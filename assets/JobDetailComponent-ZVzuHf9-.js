import{f as it,u as rt,a as st,j as c,B as C,c as at,g as Et,h as bt,b as gt,r as Ct}from"./factory-BYdAncit.js";import{r as f,a as v}from"./index-BP8_t0zE.js";import{I as yt}from"./index-DHgPtaHi.js";import{b as Nt}from"./index-CQDxHXwo.js";import{d as St}from"./styled-components.browser.esm-BzjHiQVu.js";import{J as Tt}from"./JobDetailComponentConfiguration-Db_cAnpz.js";import{J as jt}from"./JobDetailComponentInformation-Dj_wchJK.js";import{J as Dt}from"./JobDetailComponentRoutes-DrAWqYU6.js";import{a as Rt}from"./jobs-DYeHrbtM.js";import{J as q}from"./jobs-CSoPBwjn.js";import{g as Mt}from"./JobDetails-D4082_dn.js";import{t as A}from"./theme-CBi4L4pb.js";import{C as K}from"./ContentHeader-CIXz8JLl.js";import{L as tt}from"./List-BQStdOE_.js";import{a as Ot}from"./index-CdXB_vz_.js";import{C as wt}from"./CloseButton-Bstq3kTa.js";import{L as It}from"./Loader-DYJrnaLT.js";import{a as Pt,u as _t,h as Jt,n as P}from"./notifications.store-rT8tHzW-.js";import{g as kt,O as Lt}from"./OptionalPortal-pP32-1nJ.js";import{b as Ft,a as Bt}from"./Transition-BCGcMdvv.js";import{_ as lt,a as Ut,b as $t}from"./assertThisInitialized-DJR3HWHo.js";import{w as F}from"./index-BVEwUaSm.js";const Gt=o=>(o+1)%1e6;function Ht(){const[,o]=f.useReducer(Gt,0);return o}function ct(o,s){if(o==null)return{};var r={};for(var i in o)if({}.hasOwnProperty.call(o,i)){if(s.includes(i))continue;r[i]=o[i]}return r}var ut={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const Vt={withCloseButton:!0},At=at((o,{radius:s,color:r})=>({root:{"--notification-radius":s===void 0?void 0:Et(s),"--notification-color":r?bt(r,o):void 0}})),z=it((o,s)=>{const r=rt("Notification",Vt,o),{className:i,color:e,radius:t,loading:n,withCloseButton:a,withBorder:l,title:u,icon:d,children:p,onClose:h,closeButtonProps:m,classNames:R,style:Y,styles:N,unstyled:k,variant:U,vars:g,mod:$,...M}=r,x=st({name:"Notification",classes:ut,props:r,className:i,style:Y,classNames:R,styles:N,unstyled:k,vars:g,varsResolver:At});return c.jsxs(C,{...x("root"),mod:[{"data-with-icon":!!d||n,"data-with-border":l},$],ref:s,variant:U,...M,role:"alert",children:[d&&!n&&c.jsx("div",{...x("icon"),children:d}),n&&c.jsx(It,{size:28,color:e,...x("loader")}),c.jsxs("div",{...x("body"),children:[u&&c.jsx("div",{...x("title"),children:u}),c.jsx(C,{...x("description"),mod:{"data-with-title":!!u},children:p})]}),a&&c.jsx(wt,{iconSize:16,color:"gray",...m,unstyled:k,onClick:h,...x("closeButton")})]})});z.classes=ut;z.displayName="@mantine/core/Notification";const et={disabled:!1},B=v.createContext(null);var Xt=function(s){return s.scrollTop},J="unmounted",T="exited",j="entering",I="entered",X="exiting",E=function(o){lt(s,o);function s(i,e){var t;t=o.call(this,i,e)||this;var n=e,a=n&&!n.isMounting?i.enter:i.appear,l;return t.appearStatus=null,i.in?a?(l=T,t.appearStatus=j):l=I:i.unmountOnExit||i.mountOnEnter?l=J:l=T,t.state={status:l},t.nextCallback=null,t}s.getDerivedStateFromProps=function(e,t){var n=e.in;return n&&t.status===J?{status:T}:null};var r=s.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==j&&n!==I&&(t=j):(n===j||n===I)&&(t=X)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e=this.props.timeout,t,n,a;return t=n=a=e,e!=null&&typeof e!="number"&&(t=e.exit,n=e.enter,a=e.appear!==void 0?e.appear:n),{exit:t,enter:n,appear:a}},r.updateStatus=function(e,t){if(e===void 0&&(e=!1),t!==null)if(this.cancelNextCallback(),t===j){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:F.findDOMNode(this);n&&Xt(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===T&&this.setState({status:J})},r.performEnter=function(e){var t=this,n=this.props.enter,a=this.context?this.context.isMounting:e,l=this.props.nodeRef?[a]:[F.findDOMNode(this),a],u=l[0],d=l[1],p=this.getTimeouts(),h=a?p.appear:p.enter;if(!e&&!n||et.disabled){this.safeSetState({status:I},function(){t.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:j},function(){t.props.onEntering(u,d),t.onTransitionEnd(h,function(){t.safeSetState({status:I},function(){t.props.onEntered(u,d)})})})},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),a=this.props.nodeRef?void 0:F.findDOMNode(this);if(!t||et.disabled){this.safeSetState({status:T},function(){e.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:X},function(){e.props.onExiting(a),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:T},function(){e.props.onExited(a)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(a){n&&(n=!1,t.nextCallback=null,e(a))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:F.findDOMNode(this),a=e==null&&!this.props.addEndListener;if(!n||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],u=l[0],d=l[1];this.props.addEndListener(u,d)}e!=null&&setTimeout(this.nextCallback,e)},r.render=function(){var e=this.state.status;if(e===J)return null;var t=this.props,n=t.children;t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef;var a=ct(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return v.createElement(B.Provider,{value:null},typeof n=="function"?n(e,a):v.cloneElement(v.Children.only(n),a))},s}(v.Component);E.contextType=B;E.propTypes={};function w(){}E.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:w,onEntering:w,onEntered:w,onExit:w,onExiting:w,onExited:w};E.UNMOUNTED=J;E.EXITED=T;E.ENTERING=j;E.ENTERED=I;E.EXITING=X;function W(o,s){var r=function(t){return s&&f.isValidElement(t)?s(t):t},i=Object.create(null);return o&&f.Children.map(o,function(e){return e}).forEach(function(e){i[e.key]=r(e)}),i}function zt(o,s){o=o||{},s=s||{};function r(d){return d in s?s[d]:o[d]}var i=Object.create(null),e=[];for(var t in o)t in s?e.length&&(i[t]=e,e=[]):e.push(t);var n,a={};for(var l in s){if(i[l])for(n=0;n<i[l].length;n++){var u=i[l][n];a[i[l][n]]=r(u)}a[l]=r(l)}for(n=0;n<e.length;n++)a[e[n]]=r(e[n]);return a}function D(o,s,r){return r[s]!=null?r[s]:o.props[s]}function Wt(o,s){return W(o.children,function(r){return f.cloneElement(r,{onExited:s.bind(null,r),in:!0,appear:D(r,"appear",o),enter:D(r,"enter",o),exit:D(r,"exit",o)})})}function Yt(o,s,r){var i=W(o.children),e=zt(s,i);return Object.keys(e).forEach(function(t){var n=e[t];if(f.isValidElement(n)){var a=t in s,l=t in i,u=s[t],d=f.isValidElement(u)&&!u.props.in;l&&(!a||d)?e[t]=f.cloneElement(n,{onExited:r.bind(null,n),in:!0,exit:D(n,"exit",o),enter:D(n,"enter",o)}):!l&&a&&!d?e[t]=f.cloneElement(n,{in:!1}):l&&a&&f.isValidElement(u)&&(e[t]=f.cloneElement(n,{onExited:r.bind(null,n),in:u.props.in,exit:D(n,"exit",o),enter:D(n,"enter",o)}))}}),e}var Qt=Object.values||function(o){return Object.keys(o).map(function(s){return o[s]})},Zt={component:"div",childFactory:function(s){return s}},y=function(o){lt(s,o);function s(i,e){var t;t=o.call(this,i,e)||this;var n=t.handleExited.bind(Ut(t));return t.state={contextValue:{isMounting:!0},handleExited:n,firstRender:!0},t}var r=s.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},s.getDerivedStateFromProps=function(e,t){var n=t.children,a=t.handleExited,l=t.firstRender;return{children:l?Wt(e,a):Yt(e,n,a),firstRender:!1}},r.handleExited=function(e,t){var n=W(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(a){var l=$t({},a.children);return delete l[e.key],{children:l}}))},r.render=function(){var e=this.props,t=e.component,n=e.childFactory,a=ct(e,["component","childFactory"]),l=this.state.contextValue,u=Qt(this.state.children).map(n);return delete a.appear,delete a.enter,delete a.exit,t===null?v.createElement(B.Provider,{value:l},u):v.createElement(B.Provider,{value:l},v.createElement(t,a,u))},s}(v.Component);y.propTypes={};y.defaultProps=Zt;const dt=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function qt(o,s){return o.reduce((r,i)=>(r[i.position||s].push(i),r),dt.reduce((r,i)=>(r[i]=[],r),{}))}const nt={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},Kt={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function te({state:o,maxHeight:s,position:r,transitionDuration:i}){const[e,t]=r.split("-"),n=t==="center"?`${e}-center`:t,a={opacity:0,maxHeight:s,transform:nt[n],transitionDuration:`${i}ms, ${i}ms, ${i}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},l={opacity:1,transform:Kt[n]},u={opacity:0,maxHeight:0,transform:nt[n]};return{...a,...{entering:l,entered:l,exiting:u,exited:u}[o]}}function ee(o,s){return typeof s=="number"?s:s===!1||o===!1?!1:o}const ft=f.forwardRef(({data:o,onHide:s,autoClose:r,...i},e)=>{const{autoClose:t,message:n,...a}=o,l=ee(r,o.autoClose),u=f.useRef(),d=()=>window.clearTimeout(u.current),p=()=>{s(o.id),d()},h=()=>{typeof l=="number"&&(u.current=window.setTimeout(p,l))};return f.useEffect(()=>{var m;(m=o.onOpen)==null||m.call(o,o)},[]),f.useEffect(()=>(h(),d),[l]),c.jsx(z,{...i,...a,onClose:p,ref:e,onMouseEnter:d,onMouseLeave:h,children:n})});ft.displayName="@mantine/notifications/NotificationContainer";var pt={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const ne=E,oe={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:kt("overlay"),store:Pt,withinPortal:!0},ie=at((o,{zIndex:s,containerWidth:r})=>({root:{"--notifications-z-index":s==null?void 0:s.toString(),"--notifications-container-width":Ct(r)}})),b=it((o,s)=>{const r=rt("Notifications",oe,o),{classNames:i,className:e,style:t,styles:n,unstyled:a,vars:l,position:u,autoClose:d,transitionDuration:p,containerWidth:h,notificationMaxHeight:m,limit:R,zIndex:Y,store:N,portalProps:k,withinPortal:U,...g}=r,$=gt(),M=_t(N),x=Ht(),mt=Ft(),G=f.useRef({}),Q=f.useRef(0),Z=($.respectReducedMotion?mt:!1)?1:p,S=st({name:"Notifications",classes:pt,props:r,className:e,style:t,classNames:i,styles:n,unstyled:a,vars:l,varsResolver:ie});f.useEffect(()=>{N==null||N.updateState(L=>({...L,limit:R||5,defaultPosition:u}))},[R,u]),Bt(()=>{M.notifications.length>Q.current&&setTimeout(()=>x(),0),Q.current=M.notifications.length},[M.notifications]);const ht=qt(M.notifications,u),O=dt.reduce((L,H)=>(L[H]=ht[H].map(({style:xt,..._})=>c.jsx(ne,{timeout:Z,onEnter:()=>G.current[_.id].offsetHeight,nodeRef:{current:G.current[_.id]},children:vt=>c.jsx(ft,{ref:V=>{G.current[_.id]=V},data:_,onHide:V=>Jt(V,N),autoClose:d,...S("notification",{style:{...te({state:vt,position:H,transitionDuration:Z,maxHeight:m}),...xt}})})},_.id)),L),{});return c.jsxs(Lt,{withinPortal:U,...k,children:[c.jsx(C,{...S("root"),"data-position":"top-center",ref:s,...g,children:c.jsx(y,{children:O["top-center"]})}),c.jsx(C,{...S("root"),"data-position":"top-left",...g,children:c.jsx(y,{children:O["top-left"]})}),c.jsx(C,{...S("root"),"data-position":"top-right",...g,children:c.jsx(y,{children:O["top-right"]})}),c.jsx(C,{...S("root"),"data-position":"bottom-right",...g,children:c.jsx(y,{children:O["bottom-right"]})}),c.jsx(C,{...S("root"),"data-position":"bottom-left",...g,children:c.jsx(y,{children:O["bottom-left"]})}),c.jsx(C,{...S("root"),"data-position":"bottom-center",...g,children:c.jsx(y,{children:O["bottom-center"]})})]})});b.classes=pt;b.displayName="@mantine/notifications/Notifications";b.show=P.show;b.hide=P.hide;b.update=P.update;b.clean=P.clean;b.cleanQueue=P.cleanQueue;b.updateState=P.updateState;const ot=St.div`
  width: 100%;

  background-color: ${o=>o.theme.colors.gray[0]};
`,re=({focusedJobId:o})=>{const[s,r]=f.useState("Information"),[i,e]=f.useState(null),[t,n]=f.useState(!0),[a,l]=f.useState(""),u=Ot();function d(h){u(`/job/details/${h}`)}f.useEffect(()=>{if(n(!0),e(null),o===null)return;(async()=>{l("Insufficient data to generate routes");try{if(!o)throw new Error("Job ID not defined");const m=await Rt(o);m.status===q.FAILED&&m.errors.length>0&&l(m.errors[0]);const R=Mt(m);e(R),n(!1)}catch{b.show({color:"red",title:"Error",message:"Failed to fetch job details"}),n(!1)}})(),n(!1)},[o]);const p=[{label:"Information",content:c.jsx(jt,{formattedJobData:i,isLoading:t})},{label:"Routes",content:c.jsx(Dt,{formattedJobData:i,isLoading:t})},{label:"Configuration",content:c.jsx(Tt,{formattedJobData:i,isLoading:t})}];return t||!i?c.jsx(ot,{theme:A,children:c.jsxs("div",{className:"form-section",children:[c.jsx(K,{primaryTitle:"-",secondaryTitle:"-",isLoading:!0}),c.jsx(tt,{tabs:p,activeTab:s,setActiveTab:r})]})}):c.jsx(ot,{theme:A,children:i&&c.jsxs("div",{className:"form-section",children:[c.jsx(K,{primaryTitle:i.jobName,secondaryTitle:i.shortHandJobName,primaryButtonIcon:Nt,primaryButtonText:"Open",onPrimaryClick:()=>d(i.jobId),secondaryButtonIcon:yt,secondaryButtonText:"Archive",buttonsFontSize:"12px",buttonsIconSize:12,buttonsPadding:"6px 8px",secondaryButtonColor:A.colors.red[5],onSecondaryClick:()=>console.log("Not implemented"),shouldInvertButtons:!0}),c.jsx(tt,{tabs:p,activeTab:s,setActiveTab:r,showAlert:i.status===q.FAILED,alertTitle:"Routes Generation Job Failed",alertText:a})]})})};re.__docgenInfo={description:"",methods:[],displayName:"JobDetailComponent"};export{re as J};
