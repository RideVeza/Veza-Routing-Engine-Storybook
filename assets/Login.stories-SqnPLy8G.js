import{f as W,u as T,a as k,j as e,B as ye,c as U,e as P,x as xe,y as Se}from"./factory-BYdAncit.js";import{r as w}from"./index-BP8_t0zE.js";import{d as Ie}from"./styled-components.browser.esm-BzjHiQVu.js";import{a as D}from"./auth-ZgXK2BXz.js";import{B as Le}from"./Button-BmZH4clo.js";import{T as Pe}from"./Title-BF1HBFC0.js";import{P as je}from"./Paper-C4ja3mkh.js";import{T as G}from"./TextInput-Cayrc055.js";import{u as be,I as _e}from"./InputBase-BAFZ9pBH.js";import{A as Ne}from"./ActionIcon-CI9f4PEW.js";import{I as M}from"./Input-DkGv-MlU.js";import{u as ze}from"./use-id-Cc9noPIB.js";import{u as Ee}from"./use-uncontrolled-D1uLaDoI.js";import{n as Q}from"./notifications.store-rT8tHzW-.js";import"./httpClient-DV4VuV9q.js";import"./tslib.es6-Ytcc2UEA.js";import"./theme-CBi4L4pb.js";import"./polymorphic-factory-BBVriERq.js";import"./Loader-DYJrnaLT.js";import"./Transition-BCGcMdvv.js";import"./index-BVEwUaSm.js";import"./UnstyledButton-BYy9qxQd.js";import"./random-id-CCVmTau8.js";var $={root:"m_7485cace"};const Re={},Ve=U((r,{size:a,fluid:t})=>({root:{"--container-size":t?void 0:P(a,"container-size")}})),b=W((r,a)=>{const t=T("Container",Re,r),{classNames:p,className:m,style:g,styles:l,unstyled:n,vars:f,fluid:c,mod:i,...u}=t,d=k({name:"Container",classes:$,props:t,className:m,style:g,classNames:p,styles:l,unstyled:n,vars:f,varsResolver:Ve});return e.jsx(ye,{ref:a,mod:[{fluid:c},i],...d("root"),...u})});b.classes=$;b.displayName="@mantine/core/Container";const De=({reveal:r})=>e.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:e.jsx("path",{d:r?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})});var j={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const Ge={visibilityToggleIcon:De},Me=U((r,{size:a})=>({root:{"--psi-icon-size":P(a,"psi-icon-size"),"--psi-button-size":P(a,"psi-button-size")}})),y=W((r,a)=>{const t=T("PasswordInput",Ge,r),{classNames:p,className:m,style:g,styles:l,unstyled:n,vars:f,required:c,error:i,leftSection:u,disabled:d,id:o,variant:_,inputContainer:O,description:Y,label:B,size:N,errorProps:F,descriptionProps:H,labelProps:J,withAsterisk:X,inputWrapperOrder:ee,wrapperProps:se,radius:z,rightSection:te,rightSectionWidth:oe,rightSectionPointerEvents:re,leftSectionWidth:ae,visible:ie,defaultVisible:ne,onVisibilityChange:le,visibilityToggleIcon:ce,visibilityToggleButtonProps:s,rightSectionProps:de,leftSectionProps:pe,leftSectionPointerEvents:me,withErrorStyles:ue,mod:he,...ge}=t,x=ze(o),[S,fe]=Ee({value:ie,defaultValue:ne,finalValue:!1,onChange:le}),E=()=>fe(!S),I=k({name:"PasswordInput",classes:j,props:t,className:m,style:g,classNames:p,styles:l,unstyled:n,vars:f,varsResolver:Me}),{resolvedClassNames:L,resolvedStyles:R}=be({classNames:p,styles:l,props:t}),{styleProps:Ce,rest:V}=xe(ge),we=ce,ve=e.jsx(Ne,{...I("visibilityToggle"),disabled:d,radius:z,"aria-hidden":!s,tabIndex:-1,...s,variant:"subtle",color:"gray",unstyled:n,onMouseDown:h=>{var C;h.preventDefault(),(C=s==null?void 0:s.onMouseDown)==null||C.call(s,h),E()},onKeyDown:h=>{var C;(C=s==null?void 0:s.onKeyDown)==null||C.call(s,h),h.key===" "&&(h.preventDefault(),E())},children:e.jsx(we,{reveal:S})});return e.jsx(M.Wrapper,{required:c,id:x,label:B,error:i,description:Y,size:N,classNames:L,styles:R,__staticSelector:"PasswordInput",errorProps:F,descriptionProps:H,unstyled:n,withAsterisk:X,inputWrapperOrder:ee,inputContainer:O,variant:_,labelProps:{...J,htmlFor:x},mod:he,...I("root"),...Ce,...se,children:e.jsx(M,{component:"div",error:i,leftSection:u,size:N,classNames:{...L,input:Se(j.input,L.input)},styles:R,radius:z,disabled:d,__staticSelector:"PasswordInput",rightSectionWidth:oe,rightSection:te??ve,variant:_,unstyled:n,leftSectionWidth:ae,rightSectionPointerEvents:re||"all",rightSectionProps:de,leftSectionProps:pe,leftSectionPointerEvents:me,withAria:!1,withErrorStyles:ue,children:e.jsx("input",{required:c,"data-invalid":!!i||void 0,"data-with-left-section":!!u||void 0,...I("innerInput"),disabled:d,id:x,ref:a,...V,autoComplete:V.autoComplete||"off",type:S?"text":"password"})})})});y.classes={..._e.classes,...j};y.displayName="@mantine/core/PasswordInput";const Qe=Ie.div`
  .login-container {
    width: 420px;
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .title {
    font-weight: 900;
  }

  .signin-button {
    width: 100%;
    display: flex;
    justify-content: center;
    padding-top: 10px;
  }
`,K=()=>{const[r,a]=w.useState(""),[t,p]=w.useState(""),[m,g]=w.useState(""),[l,n]=w.useState(""),[f,c]=w.useState(!1),i=o=>{o.target.id==="username"?a(o.target.value):o.target.id==="password"?p(o.target.value):o.target.id==="emailGraphQL"?g(o.target.value):o.target.id==="passwordGraphQL"&&n(o.target.value)};async function u(){c(!0);try{await D.vezaLoginAsync(m,l),await D.login({username:r,password:t})}catch{Q.show({color:"red",title:"Error",message:"Incorrect username or password"})}c(!1)}const d=()=>{u().catch(()=>Q.show({color:"red",title:"Error",message:"Incorrect username or password"}))};return e.jsx(Qe,{children:e.jsxs(b,{className:"login-container",children:[e.jsx(Pe,{ta:"center",className:"title",children:"Welcome to Veza Routing Engine!"}),e.jsxs(je,{withBorder:!0,shadow:"md",p:30,mt:30,radius:"md",children:[e.jsx(G,{id:"username",label:"Username",placeholder:"you@mantine.dev",value:r,onChange:i,required:!0}),e.jsx(y,{id:"password",label:"Password",placeholder:"Your password",value:t,onChange:i,required:!0,mt:"md"}),e.jsx(G,{id:"emailGraphQL",label:"email (graphql)",placeholder:"you@mantine.dev",value:m,onChange:i,required:!0}),e.jsx(y,{id:"passwordGraphQL",label:"Password (graphql)",placeholder:"Your password",value:l,onChange:i,required:!0,mt:"md"}),e.jsx("div",{className:"signin-button",children:e.jsx(Le,{variant:"light",text:"Sign in",isLoading:f,onClick:d})})]})]})})};K.__docgenInfo={description:"",methods:[],displayName:"Login"};const ns={title:"Pages/Login",component:K,parameters:{layout:"centered"},tags:["autodocs"]},v={};var q,A,Z;v.parameters={...v.parameters,docs:{...(q=v.parameters)==null?void 0:q.docs,source:{originalSource:"{}",...(Z=(A=v.parameters)==null?void 0:A.docs)==null?void 0:Z.source}}};const ls=["DefaultLogin"];export{v as DefaultLogin,ls as __namedExportsOrder,ns as default};
