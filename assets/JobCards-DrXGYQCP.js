import{j as t}from"./jsx-runtime-CexXSJP5.js";import{r as I}from"./index-BP8_t0zE.js";import{G as W}from"./iconBase-tVazycLF.js";import{G as E}from"./index-B98Pt2jl.js";import{I as ut}from"./index-L2PmcK6x.js";import{s as ht,k as xt,b as ft}from"./index-DhrrqPsw.js";import{c as Ct}from"./index-DWJGBGB2.js";import{d as Y}from"./styled-components.browser.esm-Dx2qpfAi.js";import{a as Pt}from"./jobs-c2izYkBu.js";import{a as F}from"./jobs-DhiDD4xb.js";import{t as p}from"./theme-DV-fQgRe.js";import{f as G}from"./date-pny-vRhT.js";import{B as V}from"./Button-DgKJQOcJ.js";import{I as U}from"./Input-B6p2Evf3.js";import{a as vt}from"./index-D317oxB0.js";import{S as jt}from"./Skeleton-C45Pgd_S.js";import{F as b}from"./Flex-DfchtKyW.js";import{T as N}from"./Title-NR0nO8_X.js";import{S as yt}from"./ScrollArea-D4tNmDXS.js";import{C as bt}from"./Card-D3lXULz8.js";import{B as St}from"./Badge-DqJ7v24Y.js";import{f as _,u as w,B as q,l as It,d as Lt}from"./factory-Cmy58O58.js";import{G as Nt}from"./Group-uPXshQyq.js";import{U as wt}from"./UnstyledButton-Bp_jImnG.js";import{c as zt}from"./create-safe-context-DdvLfAHk.js";import{g as Mt,b as Rt,c as Ft}from"./get-size-ZIjN6hcg.js";import{c as Jt}from"./create-vars-resolver-BkjTnGuP.js";import{a as Dt}from"./default-theme-BUmQqxa3.js";import{g as _t}from"./get-contrast-color-CPKee8Lw.js";import{g as kt}from"./get-auto-contrast-value-Da6zqqWm.js";import{u as Bt}from"./use-uncontrolled-D1uLaDoI.js";function J(o,e){return n=>{o==null||o(n),e==null||e(n)}}function S(o,e){const n=e-o+1;return Array.from({length:n},(a,i)=>i+o)}const D="dots";function Tt({total:o,siblings:e=1,boundaries:n=1,page:a,initialPage:i=1,onChange:r}){const s=Math.max(Math.trunc(o),0),[c,g]=Bt({value:a,onChange:r,defaultValue:i,finalValue:i}),m=j=>{j<=0?g(1):j>s?g(s):g(j)},u=()=>m(c+1),d=()=>m(c-1),h=()=>m(1),C=()=>m(s);return{range:I.useMemo(()=>{if(e*2+3+n*2>=s)return S(1,s);const l=Math.max(c-e,n),x=Math.min(c+e,s-n),y=l>n+2,v=x<s-(n+1);if(!y&&v){const L=e*2+n+2;return[...S(1,L),D,...S(s-(n-1),s)]}if(y&&!v){const L=n+1+2*e;return[...S(1,n),D,...S(s-L,s)]}return[...S(1,n),D,...S(l,x),D,...S(s-n+1,s)]},[s,e,c]),active:c,setPage:m,next:u,previous:d,first:h,last:C}}const[$t,k]=zt("Pagination.Root component was not found in tree");var z={root:"m_4addd315",control:"m_326d024a",dots:"m_4ad7767d"};const At={withPadding:!0},M=_((o,e)=>{const n=w("PaginationControl",At,o),{classNames:a,className:i,style:r,styles:s,vars:c,active:g,disabled:m,withPadding:u,mod:d,...h}=n,C=k(),P=m||C.disabled;return t.jsx(wt,{ref:e,disabled:P,mod:[{active:g,disabled:P,"with-padding":u},d],...C.getStyles("control",{className:i,style:r,classNames:a,styles:s,active:!P}),...h})});M.classes=z;M.displayName="@mantine/core/PaginationControl";function R({style:o,children:e,path:n,...a}){return t.jsx("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)",...o},...a,children:t.jsx("path",{d:n,fill:"currentColor"})})}const Ot=o=>t.jsx(R,{...o,path:"M8.781 8l-3.3-3.3.943-.943L10.667 8l-4.243 4.243-.943-.943 3.3-3.3z"}),Et=o=>t.jsx(R,{...o,path:"M7.219 8l3.3 3.3-.943.943L5.333 8l4.243-4.243.943.943-3.3 3.3z"}),Gt=o=>t.jsx(R,{...o,path:"M6.85355 3.85355C7.04882 3.65829 7.04882 3.34171 6.85355 3.14645C6.65829 2.95118 6.34171 2.95118 6.14645 3.14645L2.14645 7.14645C1.95118 7.34171 1.95118 7.65829 2.14645 7.85355L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536C7.04882 11.6583 7.04882 11.3417 6.85355 11.1464L3.20711 7.5L6.85355 3.85355ZM12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8.14645 7.14645C7.95118 7.34171 7.95118 7.65829 8.14645 7.85355L12.1464 11.8536C12.3417 12.0488 12.6583 12.0488 12.8536 11.8536C13.0488 11.6583 13.0488 11.3417 12.8536 11.1464L9.20711 7.5L12.8536 3.85355Z"}),Vt=o=>t.jsx(R,{...o,path:"M2.14645 11.1464C1.95118 11.3417 1.95118 11.6583 2.14645 11.8536C2.34171 12.0488 2.65829 12.0488 2.85355 11.8536L6.85355 7.85355C7.04882 7.65829 7.04882 7.34171 6.85355 7.14645L2.85355 3.14645C2.65829 2.95118 2.34171 2.95118 2.14645 3.14645C1.95118 3.34171 1.95118 3.65829 2.14645 3.85355L5.79289 7.5L2.14645 11.1464ZM8.14645 11.1464C7.95118 11.3417 7.95118 11.6583 8.14645 11.8536C8.34171 12.0488 8.65829 12.0488 8.85355 11.8536L12.8536 7.85355C13.0488 7.65829 13.0488 7.34171 12.8536 7.14645L8.85355 3.14645C8.65829 2.95118 8.34171 2.95118 8.14645 3.14645C7.95118 3.34171 7.95118 3.65829 8.14645 3.85355L11.7929 7.5L8.14645 11.1464Z"}),Ut=o=>t.jsx(R,{...o,path:"M2 8c0-.733.6-1.333 1.333-1.333.734 0 1.334.6 1.334 1.333s-.6 1.333-1.334 1.333C2.6 9.333 2 8.733 2 8zm9.333 0c0-.733.6-1.333 1.334-1.333C13.4 6.667 14 7.267 14 8s-.6 1.333-1.333 1.333c-.734 0-1.334-.6-1.334-1.333zM6.667 8c0-.733.6-1.333 1.333-1.333s1.333.6 1.333 1.333S8.733 9.333 8 9.333 6.667 8.733 6.667 8z"}),Zt={icon:Ut},B=_((o,e)=>{const n=w("PaginationDots",Zt,o),{classNames:a,className:i,style:r,styles:s,vars:c,icon:g,...m}=n,u=k(),d=g;return t.jsx(q,{ref:e,...u.getStyles("dots",{className:i,style:r,styles:s,classNames:a}),...m,children:t.jsx(d,{style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});B.classes=z;B.displayName="@mantine/core/PaginationDots";function T({icon:o,name:e,action:n,type:a}){const i={icon:o},r=I.forwardRef((s,c)=>{const{icon:g,...m}=w(e,i,s),u=g,d=k(),h=a==="next"?d.active===d.total:d.active===1;return t.jsx(M,{disabled:d.disabled||h,ref:c,onClick:d[n],withPadding:!1,...m,children:t.jsx(u,{className:"mantine-rotate-rtl",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});return r.displayName=`@mantine/core/${e}`,It(r)}const K=T({icon:Ot,name:"PaginationNext",action:"onNext",type:"next"}),Q=T({icon:Et,name:"PaginationPrevious",action:"onPrevious",type:"previous"}),X=T({icon:Gt,name:"PaginationFirst",action:"onFirst",type:"previous"}),H=T({icon:Vt,name:"PaginationLast",action:"onLast",type:"next"});function A({dotsIcon:o}){const e=k(),n=e.range.map((a,i)=>{var r,s,c;return a==="dots"?t.jsx(B,{icon:o},i):t.jsx(M,{active:a===e.active,"aria-current":a===e.active?"page":void 0,onClick:()=>e.onChange(a),disabled:e.disabled,...(r=e.getItemProps)==null?void 0:r.call(e,a),children:((c=(s=e.getItemProps)==null?void 0:s.call(e,a))==null?void 0:c.children)??a},i)});return t.jsx(t.Fragment,{children:n})}A.displayName="@mantine/core/PaginationItems";const Wt={siblings:1,boundaries:1},Yt=Jt((o,{size:e,radius:n,color:a,autoContrast:i})=>({root:{"--pagination-control-radius":n===void 0?void 0:Mt(n),"--pagination-control-size":Rt(e,"pagination-control-size"),"--pagination-control-fz":Ft(e),"--pagination-active-bg":a?Dt(a,o):void 0,"--pagination-active-color":kt(i,o)?_t({color:a,theme:o,autoContrast:i}):void 0}})),$=_((o,e)=>{const n=w("PaginationRoot",Wt,o),{classNames:a,className:i,style:r,styles:s,unstyled:c,vars:g,total:m,value:u,defaultValue:d,onChange:h,disabled:C,siblings:P,boundaries:j,color:l,radius:x,onNextPage:y,onPreviousPage:v,onFirstPage:L,onLastPage:tt,getItemProps:ot,autoContrast:eo,...et}=n,O=Lt({name:"Pagination",classes:z,props:n,className:i,style:r,classNames:a,styles:s,unstyled:c,vars:g,varsResolver:Yt}),{range:nt,setPage:st,next:at,previous:it,active:rt,first:ct,last:lt}=Tt({page:u,initialPage:d,onChange:h,total:m,siblings:P,boundaries:j}),dt=J(y,at),mt=J(v,it),gt=J(L,ct),pt=J(tt,lt);return t.jsx($t,{value:{total:m,range:nt,active:rt,disabled:C,getItemProps:ot,onChange:st,onNext:dt,onPrevious:mt,onFirst:gt,onLast:pt,getStyles:O},children:t.jsx(q,{ref:e,...O("root"),...et})})});$.classes=z;$.displayName="@mantine/core/PaginationRoot";const qt={withControls:!0,siblings:1,boundaries:1,gap:8},f=_((o,e)=>{const n=w("Pagination",qt,o),{withEdges:a,withControls:i,getControlProps:r,nextIcon:s,previousIcon:c,lastIcon:g,firstIcon:m,dotsIcon:u,total:d,gap:h,hideWithOnePage:C,...P}=n;return d<=0||C&&d===1?null:t.jsx($,{ref:e,total:d,...P,children:t.jsxs(Nt,{gap:h,children:[a&&t.jsx(X,{icon:m,...r==null?void 0:r("first")}),i&&t.jsx(Q,{icon:c,...r==null?void 0:r("previous")}),t.jsx(A,{dotsIcon:u}),i&&t.jsx(K,{icon:s,...r==null?void 0:r("next")}),a&&t.jsx(H,{icon:g,...r==null?void 0:r("last")})]})})});f.classes=z;f.displayName="@mantine/core/Pagination";f.Root=$;f.Control=M;f.Dots=B;f.First=X;f.Last=H;f.Next=K;f.Previous=Q;f.Items=A;function Kt(o){return W({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.953 2C6.465 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.493 2 11.953 2zM12 20c-4.411 0-8-3.589-8-8s3.567-8 7.953-8C16.391 4 20 7.589 20 12s-3.589 8-8 8z"},child:[]},{tag:"path",attr:{d:"M11 7h2v7h-2zm0 8h2v2h-2z"},child:[]}]})(o)}function Qt(o){return W({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"},child:[]}]})(o)}const Z=Y.div`
  padding: 0 24px 20px 24px;
  margin-top: 24px;
`,Xt=Y.div`
  cursor: pointer;

  .header-job-card {
    border-bottom: 0.5px solid ${o=>o.theme.colors.gray[2]};
  }

  .student-badge {
    border: 1px solid ${o=>o.theme.colors.gray[2]};
    border-radius: 6px;
  }

  .loading-container {
    height: 59vh;
  }
`,Ht={[F.DRAFT]:{textColor:p.colors.gray[5],backgroundColor:p.colors.gray[0],badgeText:"Draft",icon:Ct},[F.IN_PROGRESS]:{textColor:p.colors.primary[6],backgroundColor:p.colors.primary[0],badgeText:"Pending",icon:ht},[F.COMPLETED]:{textColor:p.colors.green[5],backgroundColor:p.colors.green[0],badgeText:"Ready for Review",icon:xt},[F.FAILED]:{textColor:p.colors.red[5],backgroundColor:p.colors.red[0],badgeText:"Job Failed",icon:Kt}},to=({setFocusedJobId:o,focusedJobId:e})=>{const[n,a]=I.useState(""),[i,r]=I.useState(),[s,c]=I.useState(!0),[g,m]=I.useState(!1),[u,d]=I.useState(1),h=vt();function C(l){h(`/job/details/${l}`)}const P=l=>{o(l)};I.useEffect(()=>{o(null),(async()=>{try{c(!0);const x=await Pt(u),y=x.data[0].id;o(y),r(x),c(!1)}catch{m(!0),c(!1)}})()},[u,o]);const j=l=>{a(l)};return s||g?t.jsxs(Z,{children:[t.jsx(U,{disabled:!0,placeholder:"Search Jobs",icon:E,value:n,onChange:j}),t.jsxs("div",{className:"loading-container",children:[s&&Array.from({length:4}).map((l,x)=>t.jsx(jt,{height:100,radius:"md",mt:15},x)),g&&!s&&t.jsx(b,{justify:"center",mt:20,children:t.jsx(N,{order:5,children:"Failed to fetch jobs"})})]})]}):t.jsxs(Z,{children:[t.jsx(U,{placeholder:"Search Jobs",icon:E,value:n,onChange:j}),t.jsx("p",{children:n}),t.jsxs(yt,{h:"59vh",children:[i==null?void 0:i.data.map(l=>{const x=oo(l),y=l.status,v=Ht[y];return t.jsx(Xt,{theme:p,children:t.jsx(bt,{onClick:()=>P(l.id),shadow:"sm",mt:"md",radius:"md",withBorder:!0,style:{border:e===l.id?`1px solid ${p.colors.gray[5]}`:`1px solid ${p.colors.gray[2]}`},children:t.jsxs(b,{direction:"column",children:[t.jsxs(b,{align:"center",justify:"space-between",mb:12,pb:8,className:"header-job-card",children:[t.jsxs(b,{direction:"column",gap:5,justify:"space-between",children:[t.jsx(St,{p:5,styles:{root:{textTransform:"none"}},color:v.backgroundColor,children:t.jsxs(b,{gap:4,align:"center",children:[t.jsx(v.icon,{color:v.textColor,size:12}),t.jsx(N,{order:5,size:12,c:v.textColor,children:v.badgeText})]})}),t.jsx(N,{order:3,children:`${G(l.created_at)}, ${l.job_name??"Job Name"}`})]}),t.jsxs(b,{gap:8,children:[t.jsx(V,{text:"Archive",variant:"outline",padding:"6px 8px",color:p.colors.red[5],fontSize:"12px",isIconOnLeft:!0,icon:ut,iconSize:12,onClick:()=>console.log("Not implemented")}),t.jsx(V,{text:"Open",variant:"filled",padding:"6px 8px",fontSize:"12px",isIconOnLeft:!0,icon:ft,iconSize:12,onClick:()=>C(l.id)})]})]}),t.jsx("div",{className:"card-footer",children:t.jsxs(b,{justify:"space-between",children:[t.jsx("div",{className:"student-badge",children:t.jsxs(b,{gap:4,align:"center",p:"4px 6px",children:[t.jsx(Qt,{size:12,color:p.colors.primary[6]}),t.jsx(N,{order:5,size:12,c:p.colors.gray[6],children:`${x} students`})]})}),t.jsx(N,{order:5,size:12,c:p.colors.gray[5],children:`By User, ${G(l.created_at)}`})]})})]})})},l.id)}),i&&t.jsx(f,{color:p.colors.primary[5],total:i.totalPages,value:i.currentPage,onChange:d,mt:"sm"})]})]})};function oo(o){return!o.input||!o.input.students||!o.input.students.length?0:o.input.students.length}to.__docgenInfo={description:"",methods:[],displayName:"JobCards"};export{to as J,Ht as b};
