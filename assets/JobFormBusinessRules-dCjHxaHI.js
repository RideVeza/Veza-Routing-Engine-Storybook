import{f as M,u as P,a as D,j as s,B as O,c as F,h as L}from"./factory-BYdAncit.js";import{r as B}from"./index-BP8_t0zE.js";import{d as T}from"./styled-components.browser.esm-BzjHiQVu.js";import{c as v}from"./index-DHgPtaHi.js";import{j as U}from"./index-CQDxHXwo.js";import{S as h,b as _}from"./jobs-CSoPBwjn.js";import{t as a}from"./theme-CBi4L4pb.js";import{I as G}from"./Input-E5qBdqnX.js";import{N as c}from"./NumberInput-Bgw8vgZy.js";import{T as u}from"./Tooltip-Bd5wOlBI.js";import{F as r}from"./Flex-DB8_OMZA.js";import{T as n}from"./Title-BF1HBFC0.js";import{S as w}from"./Select-DTnU6ewg.js";import{S as g}from"./Switch-BJ6-SGMt.js";import{T as p}from"./Text-D0XYLr29.js";import{C as V}from"./ContentHeader-CIXz8JLl.js";import{L as H}from"./List-BQStdOE_.js";var I={root:"m_b183c0a2"};const X={},J=F((e,{color:t})=>({root:{"--code-bg":t?L(t,e):void 0}})),b=M((e,t)=>{const i=P("Code",X,e),{classNames:o,className:d,style:m,styles:x,unstyled:l,vars:j,color:Y,block:f,variant:R,mod:k,...A}=i,C=D({name:"Code",props:i,classes:I,className:d,style:m,classNames:o,styles:x,unstyled:l,vars:j,varsResolver:J});return s.jsx(O,{component:f?"pre":"code",variant:R,ref:t,mod:[{block:f},k],...C("root"),...A,dir:"ltr"})});b.classes=I;b.displayName="@mantine/core/Code";const z=T.div`
  display: flex;
  gap: 16px;
  height: 100%;
  padding: 20px;
  background-color: #ebeaee;

  .form-section {
    width: 100%;
  }

  .detail-container {
    width: 60%;
    height: 100%;
    border-radius: 15px;
    background-color: #cccad0;
  }
`,N=T.div`
  .inputs-section {
    width: 100%;
    height: 62vh;
    background-color: white;
    border-radius: 0 0 15px 15px;
  }

  .input-group {
    display: flex;
    justify-content: space-between;
    padding: 16px 0 16px 0;
    align-items: center;
    border-bottom: 1px solid #ebeaee;
  }

  .inputs-section {
    padding: 0 20px 0 20px;
  }

  .input-container {
    width: 50%;
  }

  .switch-track {
    &:data-checked {
      background-color: green;
    }
  }

  .thumb {
    width: 16px;
    height: 16px;
    border: none;
  }
`,y=({form:e})=>{var i,o,d,m,x;const t=l=>{const j=l.replace(/\D/g,"");e.setFieldValue("business_rule_params.max_walking_distance",Number(j))};return s.jsx(N,{children:s.jsxs("div",{className:"inputs-section",children:[s.jsxs("div",{className:"input-group",children:[s.jsxs(r,{w:"50%",gap:10,align:"center",children:[s.jsx(n,{order:5,c:a.colors.gray[6],children:"NUMBER OF ROUTES"}),s.jsx(u,{width:320,label:s.jsx(n,{order:6,children:"Tooltip content"})})]}),s.jsx(r,{w:"50%",className:"input-container",children:s.jsx(c,{placeholder:"Number",value:(i=e.values.business_rule_params)==null?void 0:i.num_routes,...e.getInputProps("business_rule_params.num_routes")})})]}),s.jsxs("div",{className:"input-group",children:[s.jsxs(r,{w:"50%",gap:10,align:"center",children:[s.jsx(n,{order:5,c:a.colors.gray[6],children:"START & END LOCATION"}),s.jsx(u,{width:320,label:s.jsx(n,{order:6,children:"Tooltip content"})})]}),s.jsx(r,{w:"50%",className:"input-container",children:s.jsx(w,{defaultValue:h.YARD,radius:8,variant:"filled",rightSection:s.jsx(v,{}),styles:{input:{backgroundColor:a.colors.gray[0]}},data:[h.YARD,h.DRIVER_HOME,h.DRIVER_PREFERENCE],...e.getInputProps("business_rule_params.start_end_location")})})]}),s.jsxs("div",{className:"input-group",children:[s.jsxs(r,{w:"50%",gap:10,align:"center",children:[s.jsx(n,{order:5,c:a.colors.gray[6],children:"MAX WALKING DISTANCE"}),s.jsx(u,{width:320,label:s.jsx(n,{order:6,children:"Tooltip content"})})]}),s.jsx(r,{w:"50%",className:"input-container",children:s.jsx(G,{placeholder:"100",RightSectionIcon:U,rightSectionIconColor:a.colors.primary[5],onChange:t,value:`${((o=e.values.business_rule_params)==null?void 0:o.max_walking_distance)||0} Meters`})})]}),s.jsxs("div",{className:"input-group",children:[s.jsxs(r,{w:"50%",gap:10,align:"center",children:[s.jsx(n,{order:5,c:a.colors.gray[6],children:"MIXED SCHOOLS ALLOWED"}),s.jsx(u,{width:320,label:s.jsx(n,{order:6,children:"Tooltip content"})})]}),s.jsx(r,{w:"50%",className:"input-container",children:s.jsx(g,{checked:((d=e.values.business_rule_params)==null?void 0:d.allow_mixed_schools)??!1,color:a.colors.primary[5],classNames:{thumb:"thumb",track:"switch-track"},onChange:l=>e.setFieldValue("business_rule_params.allow_mixed_schools",l.currentTarget.checked)})})]}),s.jsxs("div",{className:"input-group",children:[s.jsxs(r,{w:"50%",gap:10,align:"center",children:[s.jsx(n,{order:5,c:a.colors.gray[6],children:"MIXED PICK-UPS/DROP-OFFS"}),s.jsx(u,{width:320,label:s.jsx(n,{order:6,children:"Tooltip content"})})]}),s.jsx(r,{w:"50%",className:"input-container",children:s.jsx(g,{checked:((m=e.values.business_rule_params)==null?void 0:m.mixed_pickup_dropoff)??!1,color:a.colors.primary[5],classNames:{thumb:"thumb",track:"switch-track"},onChange:l=>e.setFieldValue("business_rule_params.mixed_pickup_dropoff",l.currentTarget.checked)})})]}),s.jsxs("div",{className:"input-group",children:[s.jsxs(r,{w:"50%",gap:10,align:"center",children:[s.jsx(n,{order:5,c:a.colors.gray[6],children:"CURBSIDE"}),s.jsx(u,{width:320,label:s.jsx(n,{order:6,children:"Avoid street crossing for pick-up/drop-off"})})]}),s.jsx(r,{w:"50%",className:"input-container",children:s.jsx(g,{checked:((x=e.values.business_rule_params)==null?void 0:x.curbside_pickup_dropoff)??!1,color:a.colors.primary[5],classNames:{thumb:"thumb",track:"switch-track"},onChange:l=>e.setFieldValue("business_rule_params.curbside_pickup_dropoff",l.currentTarget.checked)})})]})]})})};y.__docgenInfo={description:"",methods:[],displayName:"BusinessRulesGeneralInputs"};const S=({form:e})=>{var t,i,o;return s.jsx(N,{children:s.jsxs("div",{className:"inputs-section",children:[s.jsxs("div",{className:"input-group",children:[s.jsxs(r,{w:"50%",direction:"column",gap:1,children:[s.jsx(n,{order:5,c:a.colors.gray[6],children:"STAFF BOARDING"}),s.jsx(p,{fw:500,size:"12px",c:a.colors.gray[4],children:"Select where staff should meet the bus"})]}),s.jsx(r,{w:"50%",className:"input-container",children:s.jsx(w,{defaultValue:_.ALL_MEET_AT_STARTING_POINT,radius:8,variant:"filled",rightSection:s.jsx(v,{}),styles:{input:{backgroundColor:a.colors.gray[0]}},data:[_.ALL_MEET_AT_STARTING_POINT,_.ALL_PICKED_UP_FROM_HOME,_.PICK_UP_FROM_HOME_THOSE_THAT_NEED_IT],...e.getInputProps("business_rule_params.staff_boarding")})})]}),s.jsxs("div",{className:"input-group",children:[s.jsx(r,{w:"50%",direction:"column",gap:1,children:s.jsx(n,{order:5,c:a.colors.gray[6],children:"MAX STUDENT PER LPN"})}),s.jsx(r,{w:"50%",className:"input-container",children:s.jsx(c,{placeholder:"Number",value:(t=e.values.business_rule_params)==null?void 0:t.student_staff_ratio,...e.getInputProps("business_rule_params.student_staff_ratio")})})]}),s.jsxs("div",{className:"input-group",children:[s.jsx(r,{w:"50%",direction:"column",gap:1,children:s.jsx(n,{order:5,c:a.colors.gray[6],children:"MAX STUDENT PER HCA"})}),s.jsx(r,{w:"50%",className:"input-container",children:s.jsx(c,{placeholder:"Number",value:(i=e.values.business_rule_params)==null?void 0:i.student_staff_ratio,...e.getInputProps("business_rule_params.student_staff_ratio")})})]}),s.jsxs("div",{className:"input-group",children:[s.jsx(r,{w:"50%",direction:"column",gap:1,children:s.jsx(n,{order:5,c:a.colors.gray[6],children:"MAX STUDENT PER ATTENDANT"})}),s.jsx(r,{w:"50%",className:"input-container",children:s.jsx(c,{placeholder:"Number",value:(o=e.values.business_rule_params)==null?void 0:o.student_staff_ratio,...e.getInputProps("business_rule_params.student_staff_ratio")})})]})]})})};S.__docgenInfo={description:"",methods:[],displayName:"BusinessRulesSupportStaffInput"};const E=({form:e})=>{var t,i,o,d;return s.jsx(N,{children:s.jsxs("div",{className:"inputs-section",children:[s.jsxs("div",{className:"input-group",children:[s.jsxs(r,{direction:"column",gap:1,children:[s.jsx(n,{order:5,c:a.colors.gray[6],children:"STAFF MAX TIME"}),s.jsx(p,{fw:500,size:"12px",c:a.colors.gray[4],children:"Max time on board by staff"})]}),s.jsx("div",{className:"input-container",children:s.jsx(c,{placeholder:"Number",value:(t=e.values.business_rule_params)==null?void 0:t.max_staff_onboarding_time,...e.getInputProps("business_rule_params.max_staff_onboarding_time")})})]}),s.jsxs("div",{className:"input-group",children:[s.jsxs(r,{direction:"column",gap:1,children:[s.jsx(n,{order:5,c:a.colors.gray[6],children:"STUDENT MAX TIME"}),s.jsx(p,{fw:500,size:"12px",c:a.colors.gray[4],children:"Max time on board by student"})]}),s.jsx("div",{className:"input-container",children:s.jsx(c,{placeholder:"Number",value:(i=e.values.business_rule_params)==null?void 0:i.max_student_onboarding_time,...e.getInputProps("business_rule_params.max_student_onboarding_time")})})]}),s.jsxs("div",{className:"input-group",children:[s.jsxs(r,{direction:"column",gap:1,children:[s.jsx(n,{order:5,c:a.colors.gray[6],children:"STUDENT MAX LOADING TIME"}),s.jsx(p,{fw:500,size:"12px",c:a.colors.gray[4],children:"Max time to load students"})]}),s.jsx("div",{className:"input-container",children:s.jsx(c,{placeholder:"Number",value:(o=e.values.business_rule_params)==null?void 0:o.max_student_loaded_time,...e.getInputProps("business_rule_params.max_student_loaded_time")})})]}),s.jsxs("div",{className:"input-group",children:[s.jsxs(r,{direction:"column",gap:1,children:[s.jsx(n,{order:5,c:a.colors.gray[6],children:"DWELL TIME"}),s.jsx(p,{children:"How long should a bus stop at a stop"})]}),s.jsx("div",{className:"input-container",children:s.jsx(c,{placeholder:"Number",value:(d=e.values.business_rule_params)==null?void 0:d.default_dwell_time,...e.getInputProps("business_rule_params.default_dwell_time")})})]})]})})};E.__docgenInfo={description:"",methods:[],displayName:"BusinessRulesTimeInputs"};const K=s.jsxs(s.Fragment,{children:["Configurations not applied in the backend",s.jsx("br",{}),s.jsx("br",{}),"General Tab:",s.jsx("br",{}),"'Number of routes', 'start & end location', 'max walking distance', 'mixed schools allowed', 'mixed pick-ups/drop-offs'.",s.jsx("br",{}),s.jsx("br",{}),"Time Tab:",s.jsx("br",{}),"'Staff max time', 'dwell time'",s.jsx("br",{}),s.jsx("br",{}),"Support Staff Tab:",s.jsx("br",{}),"'Staff boarding'",s.jsx("br",{}),"Note: 'Max student per lpn', 'hca' and 'attendant' refer to a single field, student_staff_ratio, in the payload."]}),W=({form:e})=>{const[t,i]=B.useState("General"),o=[{label:"General",content:s.jsx(y,{form:e})},{label:"Time",content:s.jsx(E,{form:e})},{label:"Support Staff",content:s.jsx(S,{form:e})}];return s.jsxs(z,{children:[s.jsxs("div",{className:"form-section",children:[s.jsx(u,{width:200,label:K}),s.jsx(V,{primaryTitle:"Business Rules",secondaryTitle:"NEW ROUTING JOB"}),s.jsx(H,{tabs:o,activeTab:t,setActiveTab:i})]}),s.jsx("div",{className:"detail-container",children:s.jsx(b,{block:!0,children:JSON.stringify(e.values,null,2)})})]})};W.__docgenInfo={description:"",methods:[],displayName:"JobFormBusinessRules"};export{W as J};
